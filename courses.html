<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courses</title>
    <link rel="stylesheet" href="./style/courses.css">
    <link rel="stylesheet" href="./style/navbar.css">
    <link rel="stylesheet" href="./style/footer.css">
</head>

<body>
    <header id="header">

    </header>

    <section id="courses-header">
        <div id="courses-header-main">
            <div id="courses-searchbar-div">
                <h1 id="courses-h1">Frontend Masters Courses</h1>
                <input type="search" name="" id="courses-searchbar" placeholder="Type To Search...">
            </div>
        </div>
    </section>

    <section id="mini-header">
        <div class="header-link">
            <a href="./courses.html">All Cources</a>
            <a href="./popular_corses.html">Popular Cources</a>
            <a href="./learnpage.html">Learning Paths</a>
        </div>
    </section>

    <section id="course-item-main">

    </section>

    <!-- Footer -->
    <section id="footer-section">
        <!-- Footer #header-main-div append here -->
    </section>
</body>

</html>

<script type="module">

    //Navbar import
    import navbar from "./components/navbar.js"
    let header = document.getElementById("header")
    header.innerHTML = navbar();

    //Footer import
    import footer from "./components/footer.js"
    let footer_div = document.getElementById("footer-section")
    footer_div.innerHTML = footer();

    import { allCourses } from "./scripts/courses.js"


    // API CALL FROM BACKEND-->
    let coursesData = async () => {
        try {
            let res = await fetch("http://localhost:2323/courses");

            let data = await res.json();

            console.log(data);

            allCourses(data, main);
        } catch (err) {
            console.log(err);
        }
    };

    coursesData();

    let main = document.getElementById("course-item-main");


    //Logout button remove code 
    var btn1 = localStorage.getItem("btn")
    let getBtn = document.getElementById("logout-btn-div")
    getBtn.innerHTML = btn1;

    document.getElementById("logout-btn").addEventListener("click", removeB);

    function removeB() {
        var element = document.getElementById("logout-btn-div");
        element.remove(element);
        localStorage.removeItem("btn")
        localStorage.removeItem("loginCheck")
        window.location.href = "index.html"
    }
    // removeB()
    //Logout button remove code END
</script>